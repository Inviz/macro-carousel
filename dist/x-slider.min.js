/* x-slider 0.1.0 */(function(){"use strict";function a(){if("undefined"==typeof g){g=!1;try{const a=Object.defineProperty({},"passive",{get:()=>{g=!0}});window.addEventListener("test",null,a)}catch(a){}}return g}function b(b){return!!a()&&{passive:b}}function c(a,b=a,c=a){let d=a;if(b>c)throw new RangeError("`min` should be lower than `max`");return a<b&&(d=b),a>c&&(d=c),d}function d(a,b,d){if(0===a)throw new RangeError("x must be different from `0`");return a/f(a)*c(f(a),b,d)}var e=Number.isFinite,f=Math.abs;let g;const h=document.createElement("template");h.innerHTML=`<style>${":host{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;contain:content;--x-slider-gap:16px;--x-slider-background-color:transparent;--x-slider-slide-min-height:0px;--x-slider-slide-max-height:none;--x-slider-transition-duration:0.6s;--x-slider-transition-timing-function:cubic-bezier(0.25, 0.46, 0.45, 0.94);--x-slider-navigation-color:#000;--x-slider-navigation-background-color-active:#ddd;--x-slider-navigation-background-color-focus:#f0f0f0;--x-slider-navigation-icon-size:24px;--x-slider-pagination-color:#999;--x-slider-pagination-color-selected:#000;--x-slider-pagination-size:12px;--x-slider-pagination-gap:8px;--x-slider-pagination-height:32px}:host([hidden]){display:none}#externalWrapper{overflow:hidden;contain:paint;background-color:var(--x-slider-background-color);-ms-touch-action:pan-y pinch-zoom;touch-action:pan-y pinch-zoom}:host([drag]) #externalWrapper{cursor:-webkit-grab;cursor:grab}:host([drag][pointer-down]) #externalWrapper{cursor:-webkit-grabbing;cursor:grabbing}#slidesWrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;min-height:var(--x-slider-slide-min-height);max-height:var(--x-slider-slide-max-height);will-change:transform;--x-slider__internal__slides-per-view:1}:host([transitioning]) #slidesWrapper{-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform, -webkit-transform;-webkit-transition-duration:var(--x-slider-transition-duration);transition-duration:var(--x-slider-transition-duration);-webkit-transition-timing-function:var(--x-slider-transition-timing-function);transition-timing-function:var(--x-slider-transition-timing-function)}#pagination{-ms-flex-item-align:center;align-self:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:var(--x-slider-pagination-height);contain:strict}#pagination button{width:var(--x-slider-pagination-size);height:var(--x-slider-pagination-size);padding:0;margin:0 calc(var(--x-slider-pagination-gap) / 2);border:none;border-radius:50%;background-color:var(--x-slider-pagination-color);font-size:0;cursor:pointer;opacity:.8}#pagination button:hover,#pagination button:focus,#pagination button[disabled]{opacity:1}#pagination button[disabled]{background-color:var(--x-slider-pagination-color-selected)}::slotted(*){-webkit-box-flex:0;-ms-flex:0 0 calc((100% - (var(--x-slider__internal__slides-per-view) - 1) * var(--x-slider-gap)) / var(--x-slider__internal__slides-per-view));flex:0 0 calc((100% - (var(--x-slider__internal__slides-per-view) - 1) * var(--x-slider-gap)) / var(--x-slider__internal__slides-per-view));margin-right:var(--x-slider-gap);overflow:hidden}:host([drag]) ::slotted(*){-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#previous,#next{position:absolute;top:calc(50% - var(--x-slider-pagination-height) / 2);-webkit-transform:translateY(-50%);transform:translateY(-50%);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-width:48px;min-height:48px;padding:0;color:var(--x-slider-navigation-color);background:none;border:0;border-radius:50%;cursor:pointer}#previous:focus,#next:focus{background-color:var(--x-slider-navigation-background-color-focus);outline:none}#previous:active,#next:active{background-color:var(--x-slider-navigation-background-color-active)}#previous[disabled],#next[disabled]{opacity:.2}#previous svg,#next svg{width:var(--x-slider-navigation-icon-size);height:var(--x-slider-navigation-icon-size);pointer-events:none}#previous{left:0}#next{right:0}\n"}</style> ${"<div id=\"externalWrapper\"> <div id=\"slidesWrapper\"> <slot id=\"slidesSlot\"><p>No content available</p></slot> </div> </div> <div id=\"navigation\"></div> <div id=\"pagination\"></div>"}`;const i=document.createElement("template");i.innerHTML=`${"<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"> <path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"/> </svg>"}`;const j=document.createElement("template");j.innerHTML=`${"<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"> <path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/> </svg>"}`;class k extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(h.content.cloneNode(!0)),this._externalWrapper=this.shadowRoot.querySelector("#externalWrapper"),this._slidesWrapper=this.shadowRoot.querySelector("#slidesWrapper"),this._slidesSlot=this.shadowRoot.querySelector("#slidesSlot"),this._paginationWrapper=this.shadowRoot.querySelector("#pagination"),this._paginationIndicators=[],this._navigationWrapper=this.shadowRoot.querySelector("#navigation"),this._prevButton=void 0,this._nextButton=void 0,this._slides=[],this._lastViewIndex=-1,this._selectedIteration=0,this._previousEffectiveLayoutIndex=0,this._wrapperWidth=0,this._slidesGap=0,this._slidesWidth=0,this._wrapperTranslateX=0,this._resizeTimer=void 0,this._isPointerActive=!1,this._pointerId=void 0,this._pointerFirstX=void 0,this._pointerFirstY=void 0,this._pointerLastX=void 0,this._pointerLastY=void 0,this._pointerCurrentX=void 0,this._pointerCurrentY=void 0,this._lastDraggedLayoutIndex=void 0,this._trackingPoints=[],this._dragTicking=!1,this._maxDecelVelocity=50,this._minDecelVelocity=20,this._slidesToMoveVelocityThresholds=[500,800],this._friction=0.8,this._attraction=0.022,this._decelVelocity=0,this._decelerating=!1}connectedCallback(){this._upgradeProperty("selected"),this._upgradeProperty("loop"),this._upgradeProperty("navigation"),this._upgradeProperty("pagination"),this._upgradeProperty("drag"),this._upgradeProperty("slidesPerView"),this._previousEffectiveLayoutIndex=this.selected,this._enableWrapperTransitions(),this._slidesSlot.addEventListener("slotchange",this),window.addEventListener("resize",this,b(!0)),window.addEventListener("touchmove",function(){})}disconnectedCallback(){this._slidesSlot.removeEventListener("slotchange",this),window.removeEventListener("resize",this),this.drag&&(this._externalWrapper.removeEventListener("touchstart",this),this._externalWrapper.removeEventListener("mousedown",this)),this.navigation&&(this._prevButton.removeEventListener("click",this),this._nextButton.removeEventListener("click",this)),this.pagination&&this._paginationIndicators.forEach((a)=>{a.removeEventListener("click",this)})}handleEvent(a){a.target===window&&"resize"===a.type?this._onResize():a.target===this._slidesSlot?this._onSlotChange():this.pagination&&this._paginationIndicators.find((b)=>b===a.target)?this._onPaginationClicked(a):this.navigation&&a.target===this._prevButton?this.previous():this.navigation&&a.target===this._nextButton?this.next():"touchstart"===a.type||"mousedown"===a.type?this._onPointerDown(this._normalizeEvent(a)):"touchmove"===a.type||"mousemove"===a.type?this._onPointerMove(this._normalizeEvent(a)):"touchend"===a.type||"mouseup"===a.type?this._onPointerEnd(this._normalizeEvent(a)):"touchcancel"===a.type&&this._stopPointerTracking()}_upgradeProperty(a){if(this.hasOwnProperty(a)){let b=this[a];delete this[a],this[a]=b}}update(){this._computeSizes(),this._updateWrapAround(),this._computeSlidesPerViewLayout(),this._shiftSlides(this._slides.map((a)=>a.layoutIndex),!0),this._slideTo(this.selected),this._updatePagination(),this._updateNavigation(),this._updateDragEventListeners()}previous(){this.selected=this._computePrevious(this.selected)}_computePrevious(a){let b;return 0<a?b=a-1:this.loop&&(this._wrapAround&&(this._selectedIteration-=1),b=this._lastViewIndex),b}next(){this.selected=this._computeNext(this.selected)}_computeNext(a){let b;return a<this._lastViewIndex?b=a+1:this.loop&&(this._wrapAround&&(this._selectedIteration+=1),b=0),b}static get observedAttributes(){return["selected","loop","navigation","pagination","drag","slides-per-view"]}attributeChangedCallback(a,b,c){switch(a){case"selected":if(0===this._slides.length)return;const d=parseInt(c,10);if(!e(d)||d>this._lastViewIndex||0>d)return void(this.selected=b);if(this._wrapAround){const a=this.selected+this._selectedIteration*(this._lastViewIndex+1),b=this._previousEffectiveLayoutIndex-a,c=[],d=0>b?this.slidesPerView+b:0;for(let e=-1;e<f(b);e++)c.push(e+a+d);this._shiftSlides(c),this._previousEffectiveLayoutIndex=a}this._slideTo(this.selected),this._updatePagination(),this._updateNavigation(),this.dispatchEvent(new CustomEvent("x-slider-selected-changed",{detail:this.selected}));break;case"loop":this._updateWrapAround(),this._computeSlidesPerViewLayout(),this._shiftSlides(this._slides.map((a,b)=>b)),this._updateNavigation(),this._updatePagination();break;case"navigation":this._updateNavigation();break;case"pagination":this._updatePagination();break;case"drag":this._updateDragEventListeners();break;case"slides-per-view":if(0===this._slides.length)return;const g=parseInt(c,10);if(!e(g)||1>g)return void(this.slidesPerView=b);this.update();}}set selected(a){this.setAttribute("selected",a)}get selected(){const a=this.getAttribute("selected");return null===a?0:parseInt(a,10)}set loop(a){a?this.setAttribute("loop",""):this.removeAttribute("loop")}get loop(){return this.hasAttribute("loop")}set navigation(a){a?this.setAttribute("navigation",""):this.removeAttribute("navigation")}get navigation(){return this.hasAttribute("navigation")}set pagination(a){a?this.setAttribute("pagination",""):this.removeAttribute("pagination")}get pagination(){return this.hasAttribute("pagination")}set drag(a){a?this.setAttribute("drag",""):this.removeAttribute("drag")}get drag(){return this.hasAttribute("drag")}set slidesPerView(a){this.setAttribute("slides-per-view",a)}get slidesPerView(){const a=this.getAttribute("slides-per-view");return null===a?1:parseInt(a,10)}_disableWrapperTransitions(){this.removeAttribute("transitioning")}_enableWrapperTransitions(){requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.setAttribute("transitioning","")})})}_onResize(){clearTimeout(this._resizeTimer),this._disableWrapperTransitions(),this._resizeTimer=setTimeout(()=>{this.update(),this._enableWrapperTransitions()},100)}_computeSizes(){this._wrapperWidth=this._slidesWrapper.getBoundingClientRect().width,this._slidesGap=this._getSlidesGap(),this._slidesWidth=this._getSlideWidth()}_getSlideWidth(){return(this._wrapperWidth-(this.slidesPerView-1)*this._slidesGap)/this.slidesPerView}_getSlidesGap(){const a=parseInt(getComputedStyle(this._slides[0].element)["margin-right"],10);return e(a)?a:0}_computeSlidesPerViewLayout(){0===this._slides.length||(this._slidesWrapper.style.setProperty("--x-slider__internal__slides-per-view",this.slidesPerView),this._lastViewIndex=this._wrapAround?this._slides.length-1:this._computeLastViewIndex(),!this._wrapAround&&this.selected>this._lastViewIndex&&(this.selected=this._lastViewIndex))}_computeLastViewIndex(){return Math.max(0,this._slides.length-this.slidesPerView)}_getSlideDataIndexFromLayoutIndex(a){if(0===this._slides.length)return;let b=a;for(;0>b;)b+=this._slides.length;return b%this._slides.length}_shiftSlides(a,b=!1){if(0===this._slides.length)return;let c;a.forEach((a)=>{(b||!this._slides.find((b)=>b.layoutIndex===a))&&(c=this._getSlideDataIndexFromLayoutIndex(a),this._slides[c].layoutIndex=a,this._slides[c].position=this._computeSlidePosition(a),this._slides[c].element.style.transform=`translateX(${this._computeSlidePosition(c-a)}px)`)})}_computeSlidePosition(a){return-a*(this._slidesWidth+this._slidesGap)}_setWrapperTranslateX(a){this._slidesWrapper.style.transform=`translate3d(${a}px, 0, 0)`,this._wrapperTranslateX=a}_slideTo(a){!this._slidesWrapper||this._decelerating||this._setWrapperTranslateX(this._slides[a].position)}_updatePagination(){if(this._paginationWrapper&&0!==this._slides.length&&((!this.pagination||this.pagination&&this._paginationWrapper.childElementCount!==this._lastViewIndex+1)&&(this._paginationIndicators.forEach((a)=>{a.removeEventListener("click",this),this._paginationWrapper.removeChild(a)}),this._paginationIndicators.length=0),this.pagination)){if(this._paginationWrapper.childElementCount!==this._lastViewIndex+1){const a=document.createDocumentFragment();for(let b=0;b<=this._lastViewIndex;b++){const c=document.createElement("button");c.textContent=b,c.setAttribute("aria-label",`Go to view ${b+1}`),c.addEventListener("click",this),a.appendChild(c),this._paginationIndicators.push(c)}this._paginationWrapper.appendChild(a)}this._paginationIndicators.forEach((a,b)=>{a.disabled=b===this.selected})}}_onPaginationClicked(a){this.selected=parseInt(a.target.textContent,10)}_updateNavigation(){if(this._navigationWrapper&&0!==this._slides.length){if(!this.navigation||this.navigation&&2!==this._navigationWrapper.childElementCount)for(;this._navigationWrapper.firstChild;)this._navigationWrapper.firstChild.removeEventListener("click",this),this._navigationWrapper.removeChild(this._navigationWrapper.firstChild),this._prevButton=void 0,this._nextButton=void 0;this.navigation&&(2!==this._navigationWrapper.childElementCount&&(this._prevButton=document.createElement("button"),this._prevButton.setAttribute("aria-label","To previous view"),this._prevButton.setAttribute("id","previous"),this._prevButton.appendChild(j.content.cloneNode(!0)),this._prevButton.addEventListener("click",this),this._navigationWrapper.appendChild(this._prevButton),this._nextButton=document.createElement("button"),this._nextButton.setAttribute("aria-label","To next view"),this._nextButton.setAttribute("id","next"),this._nextButton.appendChild(i.content.cloneNode(!0)),this._nextButton.addEventListener("click",this),this._navigationWrapper.appendChild(this._nextButton)),this._prevButton.disabled=!this.loop&&0===this.selected,this._nextButton.disabled=!this.loop&&this.selected===this._lastViewIndex)}}_updateWrapAround(){this._wrapAround=this.loop&&1<this._computeLastViewIndex()}_getSlides(){return this._slidesSlot.assignedNodes().filter((a)=>a.nodeType===Node.ELEMENT_NODE).map((a,b)=>({element:a,layoutIndex:b,position:this._computeSlidePosition(b)}))||[]}_onSlotChange(){this._slides=this._getSlides(),this.update()}_updateDragEventListeners(){this.drag?(this._externalWrapper.addEventListener("touchstart",this),this._externalWrapper.addEventListener("mousedown",this)):(this._externalWrapper.removeEventListener("touchstart",this),this._externalWrapper.removeEventListener("mousedown",this))}_normalizeEvent(a){if("touchstart"===a.type||"touchmove"===a.type||"touchend"===a.type){const b=a.targetTouches[0]||a.changedTouches[0];return{x:b.clientX,y:b.clientY,id:b.identifier,event:a}}return{x:a.clientX,y:a.clientY,id:null,event:a}}_onPointerDown(a){this._isPointerActive||(this._decelerating=!1,this._isPointerActive=!0,this._pointerId=a.id,this._pointerFirstX=this._pointerLastX=this._pointerCurrentX=a.x,this._pointerFirstY=this._pointerLastY=this._pointerCurrentY=a.y,this._lastDraggedLayoutIndex=this._slides[this.selected].layoutIndex,this._trackingPoints=[],this._addTrackingPoint(this._pointerLastX),window.addEventListener("touchmove",this,b(!1)),window.addEventListener("mousemove",this,b(!1)),window.addEventListener("mouseup",this),window.addEventListener("touchend",this),window.addEventListener("touchcancel",this),this.setAttribute("pointer-down",""))}_onPointerMove(a){this._isPointerActive&&a.id===this._pointerId&&(this._pointerCurrentX=a.x,this._pointerCurrentY=a.y,f(this._pointerCurrentX-this._pointerFirstX)>f(this._pointerCurrentY-this._pointerFirstY)&&a.event.preventDefault(),this._addTrackingPoint(this._pointerLastX),this._disableWrapperTransitions(),this._requestDragTick())}_onPointerEnd(a){this._isPointerActive&&a.id===this._pointerId&&this._stopPointerTracking()}_stopPointerTracking(){this._isPointerActive=!1,this._pointerId=void 0,this._addTrackingPoint(this._pointerLastX),this.removeAttribute("pointer-down"),window.removeEventListener("touchmove",this),window.removeEventListener("mousemove",this),window.removeEventListener("touchend",this),window.removeEventListener("mouseup",this),window.removeEventListener("touchcancel",this),this._startDecelerating()}_addTrackingPoint(a){const b=Date.now();for(;0<this._trackingPoints.length&&!(100>=b-this._trackingPoints[0].time);)this._trackingPoints.shift();this._trackingPoints.push({x:a,time:b})}_requestDragTick(){this._dragTicking||requestAnimationFrame(this._updateDragPosition.bind(this)),this._dragTicking=!0}_updateDragPosition(){const a=this._wrapperTranslateX+this._pointerCurrentX-this._pointerLastX;let b,c;if(this._slides.forEach((d,e)=>{d.position>=a&&("undefined"==typeof c||d.position<c)&&(c=d.position,b=e)}),this._wrapAround){const a=[],c=this._slides[b].layoutIndex-1,d=c+this.slidesPerView+2;for(let b=c;b<d;b++)a.push(b);this._shiftSlides(a)}else b=b||0;this._lastDraggedLayoutIndex=this._slides[b].layoutIndex,this._setWrapperTranslateX(a),this._pointerLastX=this._pointerCurrentX,this._pointerLastY=this._pointerCurrentY,this._dragTicking=!1}_startDecelerating(){this._decelerating=!0;const a=this._trackingPoints[this._trackingPoints.length-1],b=this._trackingPoints[0],c=a.x-b.x||0;this._selectedIteration=Math.floor(this._lastDraggedLayoutIndex/this._slides.length);const e=this._getSlideDataIndexFromLayoutIndex(this._lastDraggedLayoutIndex);if(0==c){this._decelVelocity=0;const a=this._slides[e].position-this._wrapperTranslateX;this.selected=a>this._slidesWidth/2?this._computeNext(e):e}else{this._decelVelocity=d(c,this._minDecelVelocity,this._maxDecelVelocity);let a=1;this._slidesToMoveVelocityThresholds.forEach((b)=>{f(c)>b&&(a+=1)}),0<c&&(a-=1);let b=e;for(let d=0;d<a;d++)b=0>c?this._computeNext(b):this._computePrevious(b);this.selected=b}requestAnimationFrame(this._decelerationStep.bind(this))}_decelerationStep(){if(this._decelerating){const a=this._slides[this.selected].position;this._decelVelocity+=this._attraction*(a-this._wrapperTranslateX),this._decelVelocity*=this._friction;const b=this._wrapperTranslateX+this._decelVelocity;1<=f(a-b)||1<=f(this._decelVelocity)?(this._setWrapperTranslateX(b),requestAnimationFrame(this._decelerationStep.bind(this))):(this._setWrapperTranslateX(a),this._decelerating=!1,this._enableWrapperTransitions())}}}window.customElements.define("x-slider",k)})();
