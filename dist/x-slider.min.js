!function(){"use strict";const t=document.createElement("template");t.innerHTML='\n  <style>:host {\n  position: relative;\n\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n\n  contain: content;\n\n  --x-slider-gap: 16px;\n\n  --x-slider-transition-duration: 0.6s;\n  --x-slider-transition-timing-function: cubic-bezier(.25, .46, .45, .94);\n\n  --x-slider-navigation-color: #000;\n\n  --x-slider-pagination-color: #999;\n  --x-slider-pagination-color-selected: #000;\n  --x-slider-pagination-size: 12px;\n  --x-slider-pagination-gap: 8px;\n  --x-slider-pagination-height: 32px;\n\n  --x-slider__internal__slides-per-view: 1;\n}\n\n:host([hidden]) {\n  display: none\n}\n\n#externalWrapper {\n  overflow: hidden;\n  contain: paint;\n\n  /*\n    https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n  */\n  touch-action: pan-y pinch-zoom;\n\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n  cursor: grab;\n}\n\n:host([pointer-down]) #externalWrapper {\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n\n#slidesWrapper {\n  display: flex;\n  align-items: stretch;\n\n  will-change: transform;\n}\n\n:host([transitioning]) #slidesWrapper {\n  transition-property: transform;\n  transition-duration: var(--x-slider-transition-duration);\n  transition-timing-function: var(--x-slider-transition-timing-function);\n}\n\n#pagination {\n  align-self: center;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  height: var(--x-slider-pagination-height);\n\n  contain: strict;\n}\n\n#pagination button {\n  width: var(--x-slider-pagination-size);\n  height: var(--x-slider-pagination-size);\n\n  padding: 0;\n  margin: 0 calc(var(--x-slider-pagination-gap) / 2);\n\n  border: none;\n  border-radius: 50%;\n\n  background-color: var(--x-slider-pagination-color);\n\n  font-size: 0;\n\n  cursor: pointer;\n\n  opacity: .8;\n}\n\n#pagination button:hover,\n#pagination button:focus,\n#pagination button[disabled] {\n  opacity: 1;\n}\n\n#pagination button[disabled] {\n  background-color: var(--x-slider-pagination-color-selected);\n}\n\n::slotted(*) {\n  /* (100% - gap * (slidesPerView - 1)) / slidesPerView */\n  flex: 0 0 calc((100% - (var(--x-slider__internal__slides-per-view) - 1) *\n      var(--x-slider-gap)) / var(--x-slider__internal__slides-per-view));\n  margin-right: var(--x-slider-gap);\n}\n\n#previous,\n#next {\n  position: absolute;\n  top: calc(50% - var(--x-slider-pagination-height) / 2);\n  transform: translateY(-50%);\n\n  color: var(--x-slider-navigation-color);\n}\n\n#previous {\n  left: 0;\n}\n\n#next {\n  right: 0;\n}\n</style>\n  <div id="externalWrapper"> <div id="slidesWrapper"> <slot id="slidesSlot"><p>No content available</p></slot> </div> </div> <div id="navigation"></div> <div id="pagination" class="dabest"></div>\n';class i extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(t.content.cloneNode(!0)),this._externalWrapper=this.shadowRoot.querySelector("#externalWrapper"),this._slidesWrapper=this.shadowRoot.querySelector("#slidesWrapper"),this._slidesSlot=this.shadowRoot.querySelector("#slidesSlot"),this._paginationWrapper=this.shadowRoot.querySelector("#pagination"),this._paginationIndicators=[],this._navigationWrapper=this.shadowRoot.querySelector("#navigation"),this._prevButton=void 0,this._nextButton=void 0,this._slides=void 0,this._lastViewIndex=-1,this._wrapperWidth=0,this._slidesGap=0,this._slidesWidth=0,this._slidesPosition=void 0,this._wrapperTranslateX=void 0,this._resizeTimer=void 0,this._pointerActive=!1,this._pointerId=void 0,this._pointerFirstX=void 0,this._pointerFirstY=void 0,this._pointerLastX=void 0,this._pointerLastY=void 0,this._pointerCurrentX=void 0,this._pointerCurrentY=void 0,this._trackingPoints=[],this._dragTicking=!1,this._maxDecelVelocity=30,this._minDecelVelocity=15,this._friction=.74,this._attraction=.022,this._decelVelocity=void 0,this._decelerating=!1}connectedCallback(){this._slides=this._getSlides(),this._upgradeProperty("selected"),this._upgradeProperty("loop"),this._upgradeProperty("navigation"),this._upgradeProperty("pagination"),this._upgradeProperty("slidesPerView"),this.update(),requestAnimationFrame(t=>{requestAnimationFrame(t=>{this.setAttribute("transitioning","")})}),this._slidesSlot.addEventListener("slotchange",this),window.addEventListener("resize",this,this._passiveOptions(!0)),window.addEventListener("touchmove",function(){}),this._externalWrapper.addEventListener("touchstart",this),this._externalWrapper.addEventListener("mousedown",this)}disconnectedCallback(){this._slidesSlot.removeEventListener("slotchange",this),window.removeEventListener("resize",this),this._externalWrapper.removeEventListener("touchstart",this),this._externalWrapper.removeEventListener("mousedown",this),this.navigation&&(this._prevButton.removeEventListener("click",this),this._nextButton.removeEventListener("click",this)),this.pagination&&this._paginationIndicators.forEach(t=>{t.removeEventListener("click",this)})}handleEvent(t){t.target===window&&"resize"===t.type?this._onResize():t.target===this._slidesSlot?this._onSlotChange():this.pagination&&this._paginationIndicators.find(i=>i===t.target)?this._onPaginationClicked(t):this.navigation&&t.target===this._prevButton?this.previous():this.navigation&&t.target===this._nextButton?this.next():"touchstart"===t.type||"mousedown"===t.type?this._onPointerDown(this._normalizeEvent(t)):"touchmove"===t.type||"mousemove"===t.type?this._onPointerMove(this._normalizeEvent(t)):"touchend"===t.type||"mouseup"===t.type?this._onPointerEnd(this._normalizeEvent(t)):"touchcancel"===t.type&&this._stopPointerTracking()}_upgradeProperty(t){if(this.hasOwnProperty(t)){let i=this[t];delete this[t],this[t]=i}}update(){this._computeSizes(),this._computeSlidesPerViewLayout(),this._computeSlidesPositions(),this._slideTo(this.selected),this._updatePagination(),this._updateNavigation()}previous(){this.selected=this._computePrevious(this.selected)}_computePrevious(t){return t>0?t-1:this.loop?this._lastViewIndex:void 0}next(){this.selected=this._computeNext(this.selected)}_computeNext(t){return t<this._lastViewIndex?t+1:this.loop?0:void 0}static get observedAttributes(){return["selected","loop","navigation","pagination","slides-per-view"]}attributeChangedCallback(t,i,e){switch(t){case"selected":if(!this._slides||0===this._slides.length)return;const s=parseInt(e,10);if(!Number.isFinite(s)||s>this._lastViewIndex||s<0)return void(this.selected=i);this._slideTo(this.selected),this._updatePagination(),this._updateNavigation();break;case"loop":case"navigation":this._updateNavigation();break;case"pagination":this._updatePagination();break;case"slides-per-view":if(!this._slides||0===this._slides.length)return;const n=parseInt(e,10);if(!Number.isFinite(n)||n<1)return void(this.slidesPerView=i);this.update()}}set selected(t){this.setAttribute("selected",t)}get selected(){const t=this.getAttribute("selected");return null===t?0:parseInt(t,10)}set loop(t){t?this.setAttribute("loop",""):this.removeAttribute("loop")}get loop(){return this.hasAttribute("loop")}set navigation(t){t?this.setAttribute("navigation",""):this.removeAttribute("navigation")}get navigation(){return this.hasAttribute("navigation")}set pagination(t){t?this.setAttribute("pagination",""):this.removeAttribute("pagination")}get pagination(){return this.hasAttribute("pagination")}set slidesPerView(t){this.setAttribute("slides-per-view",t)}get slidesPerView(){const t=this.getAttribute("slides-per-view");return null===t?1:parseInt(t,10)}_onResize(){clearTimeout(this._resizeTimer),this._resizeTimer=setTimeout(()=>{this.update()},250)}_computeSizes(){this._wrapperWidth=this._slidesWrapper.getBoundingClientRect().width,this._slidesGap=this._getSlidesGap(),this._slidesWidth=this._getSlideWidth()}_getSlideWidth(){return(this._wrapperWidth-(this.slidesPerView-1)*this._slidesGap)/this.slidesPerView}_getSlidesGap(){const t=parseInt(getComputedStyle(this._slides[0])["margin-right"],10);return Number.isFinite(t)?t:0}_computeSlidesPerViewLayout(){this.style.setProperty("--x-slider__internal__slides-per-view",this.slidesPerView),this._lastViewIndex=Math.max(0,this._slides.length-this.slidesPerView),this.selected>this._lastViewIndex&&(this.selected=this._lastViewIndex)}_computeSlidesPositions(){this._slidesPosition=this._slides.map((t,i)=>-i*(this._slidesWidth+this._slidesGap))}_setWrapperTranslateX(t){this._slidesWrapper.style.transform=`translate3d(${t}px, 0, 0)`,this._wrapperTranslateX=t}_getViewPosition(t){return this._slidesPosition[t]}_slideTo(t){this._slidesWrapper&&!this._decelerating&&this._setWrapperTranslateX(this._getViewPosition(t))}_updatePagination(){if(this._paginationWrapper&&this._slides&&0!==this._slides.length&&((!this.pagination||this.pagination&&this._paginationWrapper.childElementCount!==this._lastViewIndex+1)&&(this._paginationIndicators.forEach(t=>{t.removeEventListener("click",this),this._paginationWrapper.removeChild(t)}),this._paginationIndicators.length=0),this.pagination)){if(this._paginationWrapper.childElementCount!==this._lastViewIndex+1){const t=document.createDocumentFragment();for(let i=0;i<=this._lastViewIndex;i++){const e=document.createElement("button");e.textContent=i,e.setAttribute("aria-label",`Go to view ${i+1}`),e.addEventListener("click",this),t.appendChild(e),this._paginationIndicators.push(e)}this._paginationWrapper.appendChild(t)}this._paginationIndicators.forEach((t,i)=>{t.disabled=i===this.selected})}}_onPaginationClicked(t){this.selected=parseInt(t.target.textContent,10)}_updateNavigation(){if(this._navigationWrapper&&this._slides&&0!==this._slides.length){if(!this.navigation||this.navigation&&2!==this._navigationWrapper.childElementCount)for(;this._navigationWrapper.firstChild;)this._navigationWrapper.firstChild.removeEventListener("click",this),this._navigationWrapper.removeChild(this._navigationWrapper.firstChild),this._prevButton=void 0,this._nextButton=void 0;this.navigation&&(2!==this._navigationWrapper.childElementCount&&(this._prevButton=document.createElement("button"),this._prevButton.setAttribute("aria-label","To previous view"),this._prevButton.setAttribute("id","previous"),this._prevButton.textContent="<",this._prevButton.addEventListener("click",this),this._navigationWrapper.appendChild(this._prevButton),this._nextButton=document.createElement("button"),this._nextButton.setAttribute("aria-label","To next view"),this._nextButton.setAttribute("id","next"),this._nextButton.textContent=">",this._nextButton.addEventListener("click",this),this._navigationWrapper.appendChild(this._nextButton)),this._prevButton.disabled=!this.loop&&0===this.selected,this._nextButton.disabled=!this.loop&&this.selected===this._lastViewIndex)}}_getSlides(){return this._slidesSlot.assignedNodes().filter(t=>t.nodeType===Node.ELEMENT_NODE)}_onSlotChange(){this._slides=this._getSlides(),this.update()}_normalizeEvent(t){if("touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type){const i=t.targetTouches[0]||t.changedTouches[0];return{x:i.clientX,y:i.clientY,id:i.identifier,event:t}}return{x:t.clientX,y:t.clientY,id:null,event:t}}_onPointerDown(t){this._pointerActive||(this._decelerating=!1,this._pointerActive=!0,this._pointerId=t.id,this._pointerFirstX=this._pointerLastX=this._pointerCurrentX=t.x,this._pointerFirstY=this._pointerLastY=this._pointerCurrentY=t.x,this._trackingPoints=[],this._addTrackingPoint(this._pointerLastX),window.addEventListener("touchmove",this,this._passiveOptions(!1)),window.addEventListener("mousemove",this,this._passiveOptions(!1)),window.addEventListener("mouseup",this),window.addEventListener("touchend",this),window.addEventListener("touchcancel",this),this.setAttribute("pointer-down",""))}_onPointerMove(t){this._pointerActive&&t.id===this._pointerId&&(this._pointerCurrentX=t.x,this._pointerCurrentY=t.y,Math.abs(this._pointerCurrentX-this._pointerFirstX)>Math.abs(this._pointerCurrentY-this._pointerFirstY)&&t.event.preventDefault(),this._addTrackingPoint(this._pointerLastX),this.removeAttribute("transitioning"),this._requestDragTick())}_onPointerEnd(t){this._pointerActive&&t.id===this._pointerId&&this._stopPointerTracking()}_stopPointerTracking(){this._pointerActive=!1,this._pointerId=void 0,this._addTrackingPoint(this._pointerLastX),this.removeAttribute("pointer-down"),window.removeEventListener("touchmove",this),window.removeEventListener("mousemove",this),window.removeEventListener("touchend",this),window.removeEventListener("mouseup",this),window.removeEventListener("touchcancel",this),this._startDecelerating()}_addTrackingPoint(t){const i=Date.now();for(;this._trackingPoints.length>0&&!(i-this._trackingPoints[0].time<=100);)this._trackingPoints.shift();this._trackingPoints.push({x:t,time:i})}_requestDragTick(){this._dragTicking||requestAnimationFrame(this._updateDrag.bind(this)),this._dragTicking=!0}_updateDrag(){this._setWrapperTranslateX(this._wrapperTranslateX+this._pointerCurrentX-this._pointerLastX),this._pointerLastX=this._pointerCurrentX,this._pointerLastY=this._pointerCurrentY,this._dragTicking=!1}_startDecelerating(){this._decelerating=!0;const t=this._trackingPoints[this._trackingPoints.length-1],i=this._trackingPoints[0],e=t.x-i.x||0;if(0===e)this._decelVelocity=0;else{const t=Math.min(this._maxDecelVelocity,this._slidesWidth/4),i=Math.min(this._minDecelVelocity,this._slidesWidth/6,t);this._decelVelocity=e/Math.abs(e)*Math.max(i,Math.min(t,Math.abs(e)))}const s=this._pointerLastX-this._pointerFirstX;let n=s<0?-1:this._slides.length;if(this._slidesPosition.forEach((t,i)=>{s<0&&this._wrapperTranslateX<t?n=Math.max(i,n):s>0&&this._wrapperTranslateX>t&&(n=Math.min(i,n))}),0!==this._decelVelocity)this.selected=this._decelVelocity>0?this._computePrevious(Math.max(n,1)):this._computeNext(Math.min(n,this._lastViewIndex-1));else{const t=this._wrapperTranslateX-this._getViewPosition(this.selected);Math.abs(t)>this._slidesWidth/3&&(this.selected=t>0?this._computePrevious(Math.max(n,1)):this._computeNext(Math.min(n,this._lastViewIndex-1)))}requestAnimationFrame(this._decelerationStep.bind(this))}_decelerationStep(){if(!this._decelerating)return;const t=this._getViewPosition(this.selected);this._decelVelocity+=this._attraction*(t-this._wrapperTranslateX),this._decelVelocity*=this._friction;let i=this._wrapperTranslateX+this._decelVelocity;i=this._decelVelocity>0?Math.min(i,t):i=Math.max(i,t),this._setWrapperTranslateX(i),Math.abs(t-i)>=1?requestAnimationFrame(this._decelerationStep.bind(this)):(this._setWrapperTranslateX(t),this._decelerating=!1,this.setAttribute("transitioning",""))}_supportsPassiveEvt(){if(void 0===this._passiveEvt){this._passiveEvt=!1;try{const t=Object.defineProperty({},"passive",{get:()=>{this._passiveEvt=!0}});window.addEventListener("test",null,t)}catch(t){}}return this._passiveEvt}_passiveOptions(t){return!!this._supportsPassiveEvt&&{passive:t}}}window.customElements.define("x-slider",i)}();
